from dotenv import load_dotenv,find_dotenv
import os
from langchain.agents.agent_toolkits import create_python_agent
from langchain.agents import load_tools, initialize_agent
from langchain.agents import AgentType
from langchain.tools.python.tool import PythonREPLTool
from langchain.python import PythonREPL
from langchain.chat_models import ChatOpenAI
from langchain.agents import tool
from datetime import date
_=load_dotenv(find_dotenv())
llm=ChatOpenAI(temperature=0)
tools=load_tools(["llm-math","wikipedia"],llm=llm)
agent=initialize_agent(
    tools,
    llm,
    agent=AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION,
    handle_parsing_errors=True,
    verbose=True
)
agent("what is the 20% of 100?")
code_agent=create_python_agent(
    tool=PythonREPLTool(),
    llm=llm,
    verbose=True
)
numbers=[10, 5, 2, 8, 3, 1, 9, 4, 6, 7]
code_agent.run(f"""sort these numbers 
and print the result:{numbers}""")

#自定义工具
@tool
def today_date(texs:str) -> str:
    #解释在什么时候自动调用
    """Returns today's date,use this for any
    question related to knowing todays date.
    the input should always be an empty string,
    and this function will always return today's date -
    any date mathmatics should occur outside this function.
    """
    return str(date.today())


agent3=initialize_agent(
    tools+[today_date],
    llm,
    agent=AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION,
    handle_parsing_errors=True,
    verbose=True
)
agent3("what is the date today?")



travel_agent=create_python_agent(






